<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.griptk.b2b.common.mapper.MenuMapper">
	<select id="getClientRoot" parameterType="String" resultType="com.griptk.b2b.common.domain.MenuVO">
		SELECT 	
			menu_id, menu_nm, p_menu_id, menu_url, menu_auth, template_id
		FROM tb_menu
		WHERE 1=1
		AND p_menu_id = 'client_root'
		AND ( 
			menu_auth = 'A'
			OR 
			menu_auth = #{menu_auth}
		)  
		AND menu_id != 'shop_main'
		ORDER BY sort_no
	</select>
	
	<select id="getAll" resultType="com.griptk.b2b.common.domain.MenuVO">
		SELECT 	
			menu_id, menu_nm, p_menu_id, menu_url, menu_auth, template_id
		FROM tb_menu WHERE 1=1	
	</select>	
</mapper>